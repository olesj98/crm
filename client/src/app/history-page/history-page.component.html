<div class="page-title">
  <h4>История заказов</h4>
  <button (click)="isFilterVisible = !isFilterVisible" [ngClass]="{
      'active': isFilterVisible
    }" class="btn btn-small" data-tooltip="Открыть фильтр" data-position="left" #tooltip>
    <i class="material-icons">filter_list</i>
  </button>
</div>

<app-history-filter *ngIf="isFilterVisible"></app-history-filter>

<div *ngIf="!reloading; else reload">
  <div *ngIf="orders.length > 0;">
    <app-history-list [orders]="orders"></app-history-list>
  </div>
  <ng-template #noorder>
    <div class="center">
      You have no orders yet.
    </div>
  </ng-template>

  <!-- load more -->
  <div class="center mb2">
    <button 
      class="btn waves-effect grey darken-1 btn-small" 
      (click)="loadMore()"
      *ngIf="!loading; else loader"
      [disabled]="noMoreOrders"
    >Загрузить еще</button>
    <ng-template #loader>
      <div class="center">
        <app-loader></app-loader>
      </div>
    </ng-template>
  </div>

</div>
<ng-template #reload>
  <div class="center">
    <app-loader></app-loader>
  </div>
</ng-template>



<!-- modal detail -->
<div id="order-list" class="modal modal-fixed-footer">
  <div class="modal-content">
    <h4 class="mb1">Заказ №5</h4>
    <table class="highlight">
      <thead>
        <tr>
          <th>Название</th>
          <th>Количество</th>
          <th>Цена</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>Alvin</td>
          <td>3</td>
          <td>$0.87</td>
        </tr>
      </tbody>
    </table>
    <div class="order-summary">
      <p>Общая стоимость <strong>22 231 руб.</strong></p>
    </div>
  </div>
  <div class="modal-footer">
    <button class="modal-action waves-effect waves-black btn-flat">Закрыть</button>
  </div>
</div>